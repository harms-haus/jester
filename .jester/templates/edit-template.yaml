# Edit Template for Edit Agent
# This template is used by the Edit agent for content and entity editing

edit_id: "{{EDIT_ID}}"
edit_type: "{{EDIT_TYPE}}"  # "content", "entity", "cross-stage"
created_at: "{{CREATED_AT}}"
last_modified: "{{LAST_MODIFIED}}"

# Edit target information
target:
  type: "{{TARGET_TYPE}}"  # "story", "outline", "context", "character", "location", "item"
  name: "{{TARGET_NAME}}"
  file_path: "{{TARGET_FILE_PATH}}"
  universe: "{{TARGET_UNIVERSE}}"  # "draft", "reading", "universe"
  version: "{{TARGET_VERSION}}"

# Edit details
edit_details:
  description: "{{EDIT_DESCRIPTION}}"
  reason: "{{EDIT_REASON}}"
  scope: "{{EDIT_SCOPE}}"  # "local", "cross-stage", "universe-wide"
  impact_assessment: "{{IMPACT_ASSESSMENT}}"
  risk_level: "{{RISK_LEVEL}}"  # "low", "medium", "high"

# Changes to be made
changes:
  content_changes:
    - field: "{{FIELD_NAME}}"
      old_value: "{{OLD_VALUE}}"
      new_value: "{{NEW_VALUE}}"
      change_type: "{{CHANGE_TYPE}}"  # "add", "modify", "remove"
      justification: "{{JUSTIFICATION}}"
  entity_changes:
    - entity_type: "{{ENTITY_TYPE}}"
      entity_name: "{{ENTITY_NAME}}"
      change_description: "{{CHANGE_DESCRIPTION}}"
      affected_files: ["{{AFFECTED_FILE_1}}", "{{AFFECTED_FILE_2}}"]
  relationship_changes:
    - relationship_type: "{{RELATIONSHIP_TYPE}}"
      from_entity: "{{FROM_ENTITY}}"
      to_entity: "{{TO_ENTITY}}"
      change_description: "{{CHANGE_DESCRIPTION}}"

# Cross-stage editing information
cross_stage_editing:
  enabled: {{CROSS_STAGE_ENABLED}}  # true/false
  affected_stages: ["{{STAGE_1}}", "{{STAGE_2}}"]
  consistency_checks: ["{{CHECK_1}}", "{{CHECK_2}}"]
  propagation_required: {{PROPAGATION_REQUIRED}}  # true/false

# Universe management
universe_management:
  target_universe: "{{TARGET_UNIVERSE}}"
  patch_required: {{PATCH_REQUIRED}}  # true/false
  patch_file_path: "{{PATCH_FILE_PATH}}"
  validation_required: {{VALIDATION_REQUIRED}}  # true/false

# Validation and quality assurance
validation:
  pre_edit_checks:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"
      notes: "{{CHECK_NOTES}}"
  post_edit_checks:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"
      notes: "{{CHECK_NOTES}}"
  quality_metrics:
    consistency_score: {{CONSISTENCY_SCORE}}
    completeness_score: {{COMPLETENESS_SCORE}}
    accuracy_score: {{ACCURACY_SCORE}}

# Edit history and tracking
edit_history:
  - timestamp: "{{TIMESTAMP}}"
    action: "{{ACTION}}"
    description: "{{DESCRIPTION}}"
    user: "{{USER}}"
    status: "{{STATUS}}"

# Rollback information
rollback:
  enabled: {{ROLLBACK_ENABLED}}  # true/false
  backup_file_path: "{{BACKUP_FILE_PATH}}"
  rollback_instructions: "{{ROLLBACK_INSTRUCTIONS}}"

# Next steps and follow-up
next_steps:
  - step: "{{STEP_DESCRIPTION}}"
    priority: "{{PRIORITY}}"
    deadline: "{{DEADLINE}}"
  required_actions:
    - action: "{{ACTION_DESCRIPTION}}"
      responsible: "{{RESPONSIBLE}}"
      due_date: "{{DUE_DATE}}"

# Edit metadata
metadata:
  edit_complexity: "{{EDIT_COMPLEXITY}}"  # "simple", "moderate", "complex"
  estimated_duration: "{{ESTIMATED_DURATION}}"
  actual_duration: "{{ACTUAL_DURATION}}"
  success_metrics: ["{{METRIC_1}}", "{{METRIC_2}}"]
  user_satisfaction: "{{USER_SATISFACTION}}"
