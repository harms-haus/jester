<!-- Powered by BMADâ„¢ Core -->

# Approval Template for Approve Agent
# This template is used by the Approve agent for draft approval operations

approval_id: "{{APPROVAL_ID}}"
approval_type: "{{APPROVAL_TYPE}}"  # "draft", "story", "entity", "batch"
created_at: "{{CREATED_AT}}"
last_modified: "{{LAST_MODIFIED}}"
approved_at: "{{APPROVED_AT}}"

# Approval target
target:
  draft_id: "{{DRAFT_ID}}"
  draft_name: "{{DRAFT_NAME}}"
  draft_type: "{{DRAFT_TYPE}}"  # "story", "character", "location", "item"
  source_universe: "{{SOURCE_UNIVERSE}}"  # "draft"
  target_universe: "{{TARGET_UNIVERSE}}"  # "reading"
  file_path: "{{FILE_PATH}}"

# Approval criteria
criteria:
  content_completeness: {{CONTENT_COMPLETENESS}}  # true/false
  format_compliance: {{FORMAT_COMPLIANCE}}  # true/false
  quality_standards: {{QUALITY_STANDARDS}}  # true/false
  validation_passed: {{VALIDATION_PASSED}}  # true/false
  user_approval: {{USER_APPROVAL}}  # true/false

# Approval checks
checks:
  pre_approval_checks:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"  # "pass", "fail", "warning", "info"
      message: "{{CHECK_MESSAGE}}"
      severity: "{{SEVERITY}}"  # "critical", "high", "medium", "low"
      auto_fixable: {{AUTO_FIXABLE}}  # true/false
  content_checks:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"
      message: "{{CHECK_MESSAGE}}"
      severity: "{{SEVERITY}}"
      auto_fixable: {{AUTO_FIXABLE}}
  format_checks:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"
      message: "{{CHECK_MESSAGE}}"
      severity: "{{SEVERITY}}"
      auto_fixable: {{AUTO_FIXABLE}}
  quality_checks:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"
      message: "{{CHECK_MESSAGE}}"
      severity: "{{SEVERITY}}"
      auto_fixable: {{AUTO_FIXABLE}}

# Approval results
results:
  overall_status: "{{OVERALL_STATUS}}"  # "approved", "rejected", "pending", "requires_changes"
  total_checks: {{TOTAL_CHECKS}}
  passed_checks: {{PASSED_CHECKS}}
  failed_checks: {{FAILED_CHECKS}}
  warning_checks: {{WARNING_CHECKS}}
  approval_score: {{APPROVAL_SCORE}}  # 0.0-1.0

# Approval issues
issues:
  blocking_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  non_blocking_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  auto_fixable_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  manual_fix_required: ["{{ISSUE_1}}", "{{ISSUE_2}}"]

# Approval workflow
workflow:
  current_stage: "{{CURRENT_STAGE}}"  # "validation", "review", "approval", "move", "complete"
  next_stage: "{{NEXT_STAGE}}"
  workflow_status: "{{WORKFLOW_STATUS}}"  # "running", "paused", "completed", "failed"
  stage_progress: {{STAGE_PROGRESS}}  # 0-100

# Approval actions
actions:
  validation_completed: {{VALIDATION_COMPLETED}}  # true/false
  review_completed: {{REVIEW_COMPLETED}}  # true/false
  approval_granted: {{APPROVAL_GRANTED}}  # true/false
  move_to_reading: {{MOVE_TO_READING}}  # true/false
  cleanup_completed: {{CLEANUP_COMPLETED}}  # true/false

# Approval metadata
metadata:
  approver: "{{APPROVER}}"
  approval_reason: "{{APPROVAL_REASON}}"
  approval_notes: "{{APPROVAL_NOTES}}"
  quality_score: {{QUALITY_SCORE}}  # 0.0-1.0
  completeness_score: {{COMPLETENESS_SCORE}}  # 0.0-1.0

# Approval performance
performance:
  start_time: "{{START_TIME}}"
  end_time: "{{END_TIME}}"
  duration: "{{DURATION}}"
  validation_time: "{{VALIDATION_TIME}}"
  review_time: "{{REVIEW_TIME}}"
  move_time: "{{MOVE_TIME}}"

# Approval completion
completion:
  approval_successful: {{APPROVAL_SUCCESSFUL}}  # true/false
  content_moved: {{CONTENT_MOVED}}  # true/false
  ready_for_publication: {{READY_FOR_PUBLICATION}}  # true/false
  follow_up_required: {{FOLLOW_UP_REQUIRED}}  # true/false
  next_steps: ["{{STEP_1}}", "{{STEP_2}}"]
