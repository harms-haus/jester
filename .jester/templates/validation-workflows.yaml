<!-- Powered by BMAD™ Core -->

<!-- Powered by BMAD™ Core -->

# Validation Workflows Template

## Purpose

Comprehensive validation template supporting validation, checklist, and report workflows for all Jester agents.

## Template Types

### 1. Validation Template
```yaml
validation_id: "{{VALIDATION_ID}}"
validation_type: "{{VALIDATION_TYPE}}"  # "pre_import", "post_import", "content", "entity"
created_at: "{{CREATED_AT}}"
last_modified: "{{LAST_MODIFIED}}"
completed_at: "{{COMPLETED_AT}}"

# Validation target
target:
  content_type: "{{CONTENT_TYPE}}"  # "character", "location", "item", "story"
  content_name: "{{CONTENT_NAME}}"
  file_path: "{{FILE_PATH}}"
  universe: "{{UNIVERSE}}"  # "draft", "reading", "universe"
  version: "{{VERSION}}"

# Validation configuration
configuration:
  validation_rules: ["{{RULE_1}}", "{{RULE_2}}", "{{RULE_3}}"]
  strict_mode: {{STRICT_MODE}}  # true/false
  auto_fix: {{AUTO_FIX}}  # true/false
  validation_level: "{{VALIDATION_LEVEL}}"  # "basic", "standard", "comprehensive"

# Validation checks
checks:
  structure_validation:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"  # "pass", "fail", "warning", "info"
      message: "{{CHECK_MESSAGE}}"
      severity: "{{SEVERITY}}"  # "critical", "high", "medium", "low"
      auto_fixable: {{AUTO_FIXABLE}}  # true/false
  content_validation:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"
      message: "{{CHECK_MESSAGE}}"
      severity: "{{SEVERITY}}"
      auto_fixable: {{AUTO_FIXABLE}}
  format_validation:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"
      message: "{{CHECK_MESSAGE}}"
      severity: "{{SEVERITY}}"
      auto_fixable: {{AUTO_FIXABLE}}
  relationship_validation:
    - check: "{{CHECK_NAME}}"
      status: "{{CHECK_STATUS}}"
      message: "{{CHECK_MESSAGE}}"
      severity: "{{SEVERITY}}"
      auto_fixable: {{AUTO_FIXABLE}}

# Validation results
results:
  overall_status: "{{OVERALL_STATUS}}"  # "pass", "fail", "warning", "info"
  total_checks: {{TOTAL_CHECKS}}
  passed_checks: {{PASSED_CHECKS}}
  failed_checks: {{FAILED_CHECKS}}
  warning_checks: {{WARNING_CHECKS}}
  info_checks: {{INFO_CHECKS}}
  pass_rate: {{PASS_RATE}}  # 0.0-1.0

# Validation issues
issues:
  critical_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  high_priority_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  medium_priority_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  low_priority_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  auto_fixable_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  manual_fix_required: ["{{ISSUE_1}}", "{{ISSUE_2}}"]

# Validation recommendations
recommendations:
  immediate_actions: ["{{ACTION_1}}", "{{ACTION_2}}"]
  improvements: ["{{IMPROVEMENT_1}}", "{{IMPROVEMENT_2}}"]
  best_practices: ["{{PRACTICE_1}}", "{{PRACTICE_2}}"]
  follow_up_checks: ["{{CHECK_1}}", "{{CHECK_2}}"]

# Validation performance
performance:
  start_time: "{{START_TIME}}"
  end_time: "{{END_TIME}}"
  duration: "{{DURATION}}"
  checks_per_second: {{CHECKS_PER_SECOND}}
  memory_usage: "{{MEMORY_USAGE}}"
  cpu_usage: "{{CPU_USAGE}}"

# Validation metadata
metadata:
  validation_engine_version: "{{VALIDATION_ENGINE_VERSION}}"
  rules_version: "{{RULES_VERSION}}"
  template_version: "{{TEMPLATE_VERSION}}"
  validation_mode: "{{VALIDATION_MODE}}"

# Validation completion
completion:
  validation_successful: {{VALIDATION_SUCCESSFUL}}  # true/false
  content_ready: {{CONTENT_READY}}  # true/false
  requires_manual_review: {{REQUIRES_MANUAL_REVIEW}}  # true/false
  next_steps: ["{{STEP_1}}", "{{STEP_2}}"]
```

### 2. Checklist Template
```yaml
checklist_id: "{{CHECKLIST_ID}}"
checklist_type: "{{CHECKLIST_TYPE}}"  # "draft_approval", "content_validation", "quality_assurance"
created_at: "{{CREATED_AT}}"
last_modified: "{{LAST_MODIFIED}}"
completed_at: "{{COMPLETED_AT}}"

# Checklist target
target:
  content_type: "{{CONTENT_TYPE}}"  # "story", "character", "location", "item"
  content_name: "{{CONTENT_NAME}}"
  file_path: "{{FILE_PATH}}"
  universe: "{{UNIVERSE}}"  # "draft", "reading", "universe"
  version: "{{VERSION}}"

# Checklist configuration
configuration:
  checklist_version: "{{CHECKLIST_VERSION}}"
  validation_level: "{{VALIDATION_LEVEL}}"  # "basic", "standard", "comprehensive"
  auto_fix_enabled: {{AUTO_FIX_ENABLED}}  # true/false
  strict_mode: {{STRICT_MODE}}  # true/false

# Checklist categories
categories:
  structure_validation:
    name: "Structure Validation"
    description: "Validates the basic structure and format of the content"
    weight: {{STRUCTURE_WEIGHT}}  # 0.0-1.0
    checks:
      - check: "{{CHECK_NAME}}"
        description: "{{CHECK_DESCRIPTION}}"
        status: "{{CHECK_STATUS}}"  # "pass", "fail", "warning", "info"
        message: "{{CHECK_MESSAGE}}"
        severity: "{{SEVERITY}}"  # "critical", "high", "medium", "low"
        auto_fixable: {{AUTO_FIXABLE}}  # true/false
        fix_suggestion: "{{FIX_SUGGESTION}}"
  content_validation:
    name: "Content Validation"
    description: "Validates the content quality and completeness"
    weight: {{CONTENT_WEIGHT}}  # 0.0-1.0
    checks:
      - check: "{{CHECK_NAME}}"
        description: "{{CHECK_DESCRIPTION}}"
        status: "{{CHECK_STATUS}}"
        message: "{{CHECK_MESSAGE}}"
        severity: "{{SEVERITY}}"
        auto_fixable: {{AUTO_FIXABLE}}
        fix_suggestion: "{{FIX_SUGGESTION}}"
  format_validation:
    name: "Format Validation"
    description: "Validates the format and template compliance"
    weight: {{FORMAT_WEIGHT}}  # 0.0-1.0
    checks:
      - check: "{{CHECK_NAME}}"
        description: "{{CHECK_DESCRIPTION}}"
        status: "{{CHECK_STATUS}}"
        message: "{{CHECK_MESSAGE}}"
        severity: "{{SEVERITY}}"
        auto_fixable: {{AUTO_FIXABLE}}
        fix_suggestion: "{{FIX_SUGGESTION}}"
  quality_validation:
    name: "Quality Validation"
    description: "Validates the overall quality and standards"
    weight: {{QUALITY_WEIGHT}}  # 0.0-1.0
    checks:
      - check: "{{CHECK_NAME}}"
        description: "{{CHECK_DESCRIPTION}}"
        status: "{{CHECK_STATUS}}"
        message: "{{CHECK_MESSAGE}}"
        severity: "{{SEVERITY}}"
        auto_fixable: {{AUTO_FIXABLE}}
        fix_suggestion: "{{FIX_SUGGESTION}}"
  relationship_validation:
    name: "Relationship Validation"
    description: "Validates relationships and references"
    weight: {{RELATIONSHIP_WEIGHT}}  # 0.0-1.0
    checks:
      - check: "{{CHECK_NAME}}"
        description: "{{CHECK_DESCRIPTION}}"
        status: "{{CHECK_STATUS}}"
        message: "{{CHECK_MESSAGE}}"
        severity: "{{SEVERITY}}"
        auto_fixable: {{AUTO_FIXABLE}}
        fix_suggestion: "{{FIX_SUGGESTION}}"

# Checklist results
results:
  overall_status: "{{OVERALL_STATUS}}"  # "pass", "fail", "warning", "info"
  total_checks: {{TOTAL_CHECKS}}
  passed_checks: {{PASSED_CHECKS}}
  failed_checks: {{FAILED_CHECKS}}
  warning_checks: {{WARNING_CHECKS}}
  info_checks: {{INFO_CHECKS}}
  pass_rate: {{PASS_RATE}}  # 0.0-1.0
  weighted_score: {{WEIGHTED_SCORE}}  # 0.0-1.0

# Checklist issues
issues:
  critical_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  high_priority_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  medium_priority_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  low_priority_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  auto_fixable_issues: ["{{ISSUE_1}}", "{{ISSUE_2}}"]
  manual_fix_required: ["{{ISSUE_1}}", "{{ISSUE_2}}"]

# Checklist recommendations
recommendations:
  immediate_actions: ["{{ACTION_1}}", "{{ACTION_2}}"]
  improvements: ["{{IMPROVEMENT_1}}", "{{IMPROVEMENT_2}}"]
  best_practices: ["{{PRACTICE_1}}", "{{PRACTICE_2}}"]
  follow_up_checks: ["{{CHECK_1}}", "{{CHECK_2}}"]

# Checklist performance
performance:
  start_time: "{{START_TIME}}"
  end_time: "{{END_TIME}}"
  duration: "{{DURATION}}"
  checks_per_second: {{CHECKS_PER_SECOND}}
  memory_usage: "{{MEMORY_USAGE}}"
  cpu_usage: "{{CPU_USAGE}}"

# Checklist metadata
metadata:
  checklist_engine_version: "{{CHECKLIST_ENGINE_VERSION}}"
  rules_version: "{{RULES_VERSION}}"
  template_version: "{{TEMPLATE_VERSION}}"
  validation_mode: "{{VALIDATION_MODE}}"

# Checklist completion
completion:
  checklist_completed: {{CHECKLIST_COMPLETED}}  # true/false
  all_checks_passed: {{ALL_CHECKS_PASSED}}  # true/false
  content_ready: {{CONTENT_READY}}  # true/false
  requires_manual_review: {{REQUIRES_MANUAL_REVIEW}}  # true/false
  next_steps: ["{{STEP_1}}", "{{STEP_2}}"]
```

### 3. Report Template
```yaml
validation_id: "{{VALIDATION_ID}}"
created_at: "{{CREATED_AT}}"
agent: "validate"
target_file: "{{TARGET_FILE_PATH}}" # The file that was validated
content_type: "{{CONTENT_TYPE}}" # "context", "outline", "story"
validation_type: "{{VALIDATION_TYPE}}" # "comprehensive", "quick", "focused"

validation_status: "{{OVERALL_STATUS}}" # "passed", "failed", "warnings"
summary: "{{VALIDATION_SUMMARY}}" # A brief summary of the validation outcome

validation_categories:
  - name: "{{CATEGORY_NAME_1}}" # e.g., "Entity Consistency", "Length Validation"
    status: "{{CATEGORY_STATUS_1}}" # "passed", "failed", "warnings"
    checks:
      - name: "{{CHECK_NAME_1}}"
        status: "{{CHECK_STATUS_1}}" # "passed", "failed", "warning"
        severity: "{{SEVERITY_1}}" # "critical", "high", "medium", "low"
        description: "{{CHECK_DESCRIPTION_1}}"
        issues_found:
          - message: "{{ISSUE_MESSAGE_1}}"
            location: "{{ISSUE_LOCATION_1}}" # e.g., "line 15", "character: fish"
            suggestion: "{{ISSUE_SUGGESTION_1}}"
          - message: "{{ISSUE_MESSAGE_2}}"
            location: "{{ISSUE_LOCATION_2}}"
            suggestion: "{{ISSUE_SUGGESTION_2}}"
      - name: "{{CHECK_NAME_2}}"
        status: "{{CHECK_STATUS_2}}"
        severity: "{{SEVERITY_2}}"
        description: "{{CHECK_DESCRIPTION_2}}"
        issues_found: [] # Empty if no issues

validation_metrics:
  total_checks: {{TOTAL_CHECKS}}
  passed_checks: {{PASSED_CHECKS}}
  failed_checks: {{FAILED_CHECKS}}
  warning_checks: {{WARNING_CHECKS}}
  success_rate: "{{SUCCESS_RATE}}%" # Percentage of checks that passed

critical_issues:
  - issue: "{{CRITICAL_ISSUE_1}}"
    description: "{{ISSUE_DESCRIPTION_1}}"
    impact: "{{ISSUE_IMPACT_1}}"
    resolution: "{{RESOLUTION_SUGGESTION_1}}"
  - issue: "{{CRITICAL_ISSUE_2}}"
    description: "{{ISSUE_DESCRIPTION_2}}"
    impact: "{{ISSUE_IMPACT_2}}"
    resolution: "{{RESOLUTION_SUGGESTION_2}}"

recommendations:
  - "{{RECOMMENDATION_1}}" # e.g., "Add more character development for the main character"
  - "{{RECOMMENDATION_2}}" # e.g., "Consider adding a transitional scene between locations"

next_steps:
  - "{{NEXT_STEP_1}}" # e.g., "Fix critical issues before proceeding"
  - "{{NEXT_STEP_2}}" # e.g., "Review and address minor issues for better quality"

metadata:
  validation_duration_ms: {{VALIDATION_DURATION_MS}}
  content_size: {{CONTENT_SIZE}} # File size or word count
  validation_version: "{{VALIDATION_VERSION}}"
```

## Usage Guidelines

### Template Selection
- **Validation Template**: Use for import agent validation workflows
- **Checklist Template**: Use for approve agent checklist workflows  
- **Report Template**: Use for validate agent report generation

### Field Customization
- Replace all `{{PLACEHOLDER}}` values with actual data
- Maintain consistent field naming across all templates
- Use appropriate data types for each field

### Integration
- Templates are designed to work with all Jester agents
- Consistent structure enables easy data exchange
- Supports both automated and manual validation workflows
