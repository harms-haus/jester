# Command Menu Template

# Main command options for @jester entry point
commands:
  jester:
    id: "main"
    title: "üé≠ Jester - Main Entry Point"
    description: "Core functionalities and project management"
    subcommands:
      - "init - Initialize git repo if installed"
      - "help - Describe how jester works, answer questions"
    use_case: "When you need general guidance or project setup"
    agent: "jester"
    prompts:
      - "user-greeting.md"
      - "workflow-selection.md"

  write:
    id: "write"
    title: "‚úçÔ∏è Write - Story Generation"
    description: "Core generation functionalities for stories"
    subcommands:
      - "context - Write out the context"
      - "outline - Write out the outline"
      - "story - Write out the story"
    use_case: "When you want to generate story content"
    agent: "write"
    prompts:
      - "context-generation.md"
      - "outline-generation.md"
      - "story-generation.md"

  muse:
    id: "muse"
    title: "üí° Muse - Brainstorming"
    description: "Core brainstorming functionalities and creative exploration"
    subcommands:
      - "create-new - Start new brainstorming session"
      - "explore-existing - Explore existing draft for details"
      - "list-elicitations - List brainstorming techniques"
    use_case: "When you want to brainstorm and explore ideas"
    agent: "muse"
    prompts:
      - "context-generation.md"
      - "brainstorming-techniques.md"
      - "lightrag-query-generation.md"

  edit:
    id: "edit"
    title: "‚úèÔ∏è Edit - Content Editing"
    description: "Cross-stage editing across stories, outlines, contexts, and entities"
    subcommands:
      - "character [name] - Edit a character by name"
      - "location [name] - Edit a location by name"
      - "item [name] - Edit an item by name"
    use_case: "When you want to edit existing content"
    agent: "edit"
    prompts:
      - "content-editing.md"
      - "entity-editing.md"
      - "validation-workflow.md"

  delete:
    id: "delete"
    title: "üóëÔ∏è Delete - Entity Removal"
    description: "Remove entities from the story universe"
    subcommands:
      - "character [name] - Delete a character by name"
      - "location [name] - Delete a location by name"
      - "item [name] - Delete an item by name"
      - "story [name] - Delete a story by name"
    use_case: "When you want to remove content"
    agent: "delete"
    prompts:
      - "entity-deletion.md"
      - "link-integrity-check.md"

  approve:
    id: "approve"
    title: "‚úÖ Approve - Draft Approval"
    description: "Approve a draft to move to the reading universe"
    subcommands:
      - "approve [draft] - Approve a draft to reading stage"
    use_case: "When you want to approve content for publication"
    agent: "approve"
    prompts:
      - "draft-to-reading-validation.md"
      - "workflow-management.md"

  publish:
    id: "publish"
    title: "üöÄ Publish - Story Publishing"
    description: "Publish a reading story with entities and patches"
    subcommands:
      - "publish [story] - Publish a reading story"
    use_case: "When you want to publish content to universe universe"
    agent: "publish"
    prompts:
      - "reading-to-universe-validation.md"
      - "apply-patches.md"
      - "move-to-universe.md"

  import:
    id: "import"
    title: "üì• Import - Content Import"
    description: "Import entities or stories from files or directories"
    subcommands:
      - "import [file] - Import from specific file"
      - "import directory [path] - Import from directory"
    use_case: "When you want to import existing content"
    agent: "import"
    prompts:
      - "content-import.md"
      - "entity-import.md"
      - "import-staging-validation.md"

  search:
    id: "search"
    title: "üîç Search - Knowledge Search"
    description: "Search local files and LightRAG database with natural-language queries"
    subcommands:
      - "search [query] - Search with natural language"
    use_case: "When you want to find information"
    agent: "search"
    prompts:
      - "search-queries.md"
      - "local-file-search.md"
      - "lightrag-database-query.md"

# User intent indicators for command selection
intent_indicators:
  jester:
    keywords:
      - "help"
      - "how does this work"
      - "what can I do"
      - "tutorial"
      - "guide"
      - "show me options"
      - "explain jester"
      - "init"
      - "initialize"
    context:
      - "user is confused or asking for guidance"
      - "first-time user"
      - "project setup needed"
    confidence: "high"

  write:
    keywords:
      - "write"
      - "generate"
      - "create story"
      - "write context"
      - "write outline"
      - "write story"
      - "story generation"
    context:
      - "user wants to generate content"
      - "has context or outline reading"
    confidence: "high"

  muse:
    keywords:
      - "brainstorm"
      - "explore ideas"
      - "creative session"
      - "muse"
      - "inspiration"
      - "new story ideas"
      - "creative exploration"
    context:
      - "user wants to brainstorm"
      - "needs creative inspiration"
    confidence: "high"

  edit:
    keywords:
      - "edit"
      - "modify"
      - "change"
      - "update"
      - "revise"
      - "edit character"
      - "edit location"
      - "edit item"
    context:
      - "user wants to modify existing content"
      - "has existing files to edit"
    confidence: "high"

  delete:
    keywords:
      - "delete"
      - "remove"
      - "delete character"
      - "delete location"
      - "delete item"
      - "delete story"
    context:
      - "user wants to remove content"
      - "cleanup or reorganization"
    confidence: "high"

  approve:
    keywords:
      - "approve"
      - "reading"
      - "approve draft"
      - "move to reading"
    context:
      - "user has completed draft"
      - "reading for next stage"
    confidence: "high"

  publish:
    keywords:
      - "publish"
      - "publish story"
      - "finalize"
      - "universe"
    context:
      - "user has reading content"
      - "reading for publication"
    confidence: "high"

  import:
    keywords:
      - "import"
      - "import file"
      - "import directory"
      - "bring in"
      - "add existing"
    context:
      - "user has external content"
      - "wants to add existing files"
    confidence: "high"

  search:
    keywords:
      - "search"
      - "find"
      - "look for"
      - "where is"
      - "show me"
    context:
      - "user wants to find information"
      - "needs to locate content"
    confidence: "high"

# Transition messages for each command
transitions:
  jester:
    message: "Welcome to Jester! I'm here to help you with:\n- Project initialization and setup\n- General guidance and help\n- Understanding how jester works\n\nLet me show you all available commands..."
    next_steps:
      - "Present command menu"
      - "Show help content"
      - "Guide user to appropriate command"

  write:
    message: "Perfect! I'll help you generate story content:\n- Create context files from your ideas\n- Generate story outlines\n- Write universe bedtime stories\n\nLet me load the story generation tools..."
    next_steps:
      - "Load write.md agent"
      - "Load story generation prompts"
      - "Initialize content generation workflow"

  muse:
    message: "Great! Let's explore your creative ideas:\n- Interactive brainstorming sessions\n- Creative exploration techniques\n- Idea development and refinement\n\nLet me start our creative session..."
    next_steps:
      - "Load muse.md agent"
      - "Load brainstorming prompts"
      - "Initialize creative exploration workflow"

  edit:
    message: "Excellent! I'll help you edit your content:\n- Cross-stage editing capabilities\n- Character, location, and item editing\n- Content modification and refinement\n\nLet me load the editing tools..."
    next_steps:
      - "Load edit.md agent"
      - "Load editing prompts"
      - "Initialize content editing workflow"

  delete:
    message: "I'll help you remove content safely:\n- Entity deletion with proper confirmation\n- Link integrity checking\n- System cleanup and validation\n\nLet me load the deletion tools..."
    next_steps:
      - "Load delete.md agent"
      - "Load deletion prompts"
      - "Initialize content removal workflow"

  approve:
    message: "Perfect! I'll help you approve your draft:\n- Draft validation and quality checking\n- Move content to reading stage\n- Workflow progression management\n\nLet me load the approval tools..."
    next_steps:
      - "Load approve.md agent"
      - "Load validation prompts"
      - "Initialize draft approval workflow"

  publish:
    message: "Excellent! I'll help you publish your story:\n- Final validation and quality assurance\n- Entity patch application\n- Complete universe integration\n\nLet me load the publishing tools..."
    next_steps:
      - "Load publish.md agent"
      - "Load publishing prompts"
      - "Initialize story publishing workflow"

  import:
    message: "Great! I'll help you import content:\n- File and directory processing\n- Content validation and formatting\n- Integration with your story universe\n\nLet me load the import tools..."
    next_steps:
      - "Load import.md agent"
      - "Load import prompts"
      - "Initialize content import workflow"

  search:
    message: "Perfect! I'll help you find information:\n- Local file system search\n- LightRAG database queries\n- Natural language search capabilities\n\nLet me load the search tools..."
    next_steps:
      - "Load search.md agent"
      - "Load search prompts"
      - "Initialize information retrieval workflow"

# Error handling scenarios
error_handling:
  unclear_intent:
    message: "I want to help you, but I'm not sure exactly what you'd like to do. Here are the available commands:\n- `/jester` - Main entry point and help\n- `/write` - Generate story content\n- `/muse` - Brainstorming and creative exploration\n- `/edit` - Edit existing content\n- `/delete` - Remove content\n- `/approve` - Approve drafts\n- `/publish` - Publish stories\n- `/import` - Import content\n- `/search` - Find information\n\nWhich command interests you most?"
    action: "present_command_menu"

  conflicting_intent:
    message: "I see you mentioned multiple commands. Could you clarify which one you'd like to use:\n- `/write` for generating content\n- `/edit` for modifying content\n- `/muse` for brainstorming\n- Or another specific command?"
    action: "request_clarification"

  invalid_command:
    message: "I don't recognize that command. Here are the available commands:\n- `/jester` - Main entry point\n- `/write` - Story generation\n- `/muse` - Brainstorming\n- `/edit` - Content editing\n- `/delete` - Content removal\n- `/approve` - Draft approval\n- `/publish` - Story publishing\n- `/import` - Content import\n- `/search` - Information search\n\nWhich would you like to try?"
    action: "suggest_valid_commands"

# Success criteria
success_criteria:
  command_recognition:
    target: "95%+ accuracy"
    metrics:
      - "Correctly identify user command intent"
      - "Present appropriate command options for unclear cases"
      - "Provide helpful guidance for command usage"

  smooth_transitions:
    target: "Seamless command switching"
    metrics:
      - "Load appropriate agent files based on command"
      - "Provide context about what to expect next"
      - "Maintain user momentum and engagement"

  user_satisfaction:
    target: "High user satisfaction"
    metrics:
      - "Users can easily find the command they need"
      - "New users feel guided and supported"
      - "Returning users can quickly access functionality"
      - "Command structure is intuitive and logical"
